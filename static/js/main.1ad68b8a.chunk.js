(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{18:function(t,e,n){t.exports=n(34)},23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n.n(c),o=n(13),r=n.n(o),i=(n(23),n(14)),s=n(15),l=n(17),u=n(16),d={image:{height:110,width:110,borderRadius:10,backgroundColor:"#ccc"}},m=function(t){var e=t.product,n=e.item,c=e.price,o=e.qty,r=t.product,i=t.onIncreaseQuantity,s=t.onDecreaseQuantity,l=t.onDeleteProduct;return a.a.createElement("div",{className:"cart-item"},t.jsx,a.a.createElement("div",{className:"left-block"},a.a.createElement("img",{style:d.image,src:r.img})),a.a.createElement("div",{className:"right-block"},a.a.createElement("div",{style:{fontSize:25}},n),a.a.createElement("div",{style:{color:"#777"}},"rs ",c),a.a.createElement("div",{style:{color:"cyan"}},"Qty ",o),a.a.createElement("div",{className:"cart-item-actions"},a.a.createElement("img",{alt:"increse",className:"action-icons",src:"https://image.flaticon.com/icons/svg/1828/1828817.svg",onClick:function(){return i(r)}}),a.a.createElement("img",{alt:"decrese",className:"action-icons",src:"https://image.flaticon.com/icons/svg/992/992514.svg",onClick:function(){return s(r)}}),a.a.createElement("img",{alt:"delete",className:"action-icons",src:"https://image.flaticon.com/icons/svg/1345/1345874.svg",onClick:function(){return l(r.id)}}))))},p=function(t){var e=t.products;return a.a.createElement("div",{className:"cart"},a.a.createElement("h1",null,"Cart"),e.map((function(e){return a.a.createElement(m,{product:e,key:e.id,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct})})))},f={cartIcon:{height:32,marginRight:30},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"violet",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:12,top:-9}},g=function(t){return a.a.createElement("div",{style:f.nav},a.a.createElement("div",{style:f.cartIconContainer},a.a.createElement("img",{style:f.cartIcon,src:"https://image.flaticon.com/icons/svg/2121/2121815.svg",alt:"cart-icon"}),a.a.createElement("span",{style:f.cartCount}," ",t.count," ")))},h=n(8),y=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this)).handleIncreaseQuantity=function(e){var n=t.state.products,c=n.indexOf(e);t.db.collection("products").doc(n[c].id).update({qty:n[c].qty+1}).then((function(){console.log("updated successfully")})).catch((function(t){console.log("Error: ",t)}))},t.handleDecreaseQuantity=function(e){var n=t.state.products;if(0!==e.qty){var c=n.indexOf(e);t.db.collection("products").doc(n[c].id).update({qty:n[c].qty-1}).then((function(){console.log("updated successfully")})).catch((function(t){console.log("Error: ",t)}))}},t.handleDeleteProduct=function(e){t.state.products;t.db.collection("products").doc(e).delete().then((function(){console.log("deleted successfully")})).catch((function(t){console.log("Error: ",t)}))},t.getCartCount=function(){var e=t.state.products,n=0;return e.forEach((function(t){n+=t.qty})),n},t.getTotalAmount=function(){var e=t.state.products,n=0;return e.forEach((function(t){n+=t.qty*t.price})),n},t.addProduct=function(){t.db.collection("products").add({img:"",price:10999,qty:1,item:"Washing Machine"}).then((function(t){console.log("product has been added",t)})).catch((function(t){console.log("Error :",t)}))},t.state={products:[],loading:!0},t.db=h.firestore(),t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.db.collection("products").orderBy("price","desc").onSnapshot((function(e){console.log(e),e.docs.map((function(t){console.log(t.data())}));var n=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:n,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,n=t.loading;return a.a.createElement("div",{className:"App"},a.a.createElement(g,{count:this.getCartCount()}),a.a.createElement(p,{products:e,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),n&&a.a.createElement("h1",null,"Loading items...."),a.a.createElement("div",{style:{padding:10,fontSize:20}},"Total Amount: ",this.getTotalAmount()))}}]),n}(a.a.Component);n(33);h.initializeApp({apiKey:"AIzaSyAJHjBB0gyYvgye6d1n4H6K2ziUDtIZbRY",authDomain:"cart-f7c11.firebaseapp.com",databaseURL:"https://cart-f7c11.firebaseio.com",projectId:"cart-f7c11",storageBucket:"cart-f7c11.appspot.com",messagingSenderId:"1030343983605",appId:"1:1030343983605:web:198d3b408f3917ae36e0bc"}),r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.1ad68b8a.chunk.js.map